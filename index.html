<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Internet Archive Explorer</title>
    
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#06b6d4" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Archive Explorer" />
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3e%3cstop offset='0%25' style='stop-color:%2322d3ee;stop-opacity:1' /%3e%3cstop offset='100%25' style='stop-color:%230891b2;stop-opacity:1' /%3e%3c/linearGradient%3e%3c/defs%3e%3crect width='100' height='100' rx='20' fill='%23083344'/%3e%3cpath d='M 25 75 L 50 25 L 75 75' stroke='url(%23grad)' stroke-width='12' stroke-linecap='round' stroke-linejoin='round' fill='none'/%3e%3cpath d='M 30 75 A 20 20 0 0 1 70 75' stroke='%23cffafe' stroke-width='12' stroke-linecap='round' fill='none'/%3e%3c/svg%3e" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://aistudiocdn.com/@google/genai@^1.19.0",
          "react/": "https://aistudiocdn.com/react@^19.1.1/",
          "react": "https://aistudiocdn.com/react@^19.1.1",
          "jotai/": "https://aistudiocdn.com/jotai@^2.14.0/",
          "jotai": "https://aistudiocdn.com/jotai@^2.14.0",
          "uuid": "https://aistudiocdn.com/uuid@^13.0.0",
          "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
          "vite": "https://aistudiocdn.com/vite@^7.1.5",
          "path": "https://aistudiocdn.com/path@^0.12.7",
          "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.0.2"
        }
      }
    </script>
    
    <script src="https://cdn.tailwindcss.com?plugins=typography,aspect-ratio"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              accent: {
                50: 'var(--color-accent-50)',
                100: 'var(--color-accent-100)',
                200: 'var(--color-accent-200)',
                300: 'var(--color-accent-300)',
                400: 'var(--color-accent-400)',
                500: 'var(--color-accent-500)',
                600: 'var(--color-accent-600)',
                700: 'var(--color-accent-700)',
                800: 'var(--color-accent-800)',
                900: 'var(--color-accent-900)',
                950: 'var(--color-accent-950)',
              },
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            boxShadow: {
              't-lg': '0 -10px 15px -3px rgb(0 0 0 / 0.1), 0 -4px 6px -4px rgb(0 0 0 / 0.1)',
            },
          }
        }
      }
    </script>
    
    <style type="text/tailwindcss">
        @layer base {
          :root {
            font-family: 'Inter', sans-serif;
            
            /* Default to Cyan */
            --color-accent-50: #ecfeff;
            --color-accent-100: #cffafe;
            --color-accent-200: #a5f3fd;
            --color-accent-300: #67e8f9;
            --color-accent-400: #22d3ee;
            --color-accent-500: #06b6d4;
            --color-accent-600: #0891b2;
            --color-accent-700: #0e7490;
            --color-accent-800: #155e75;
            --color-accent-900: #164e63;
            --color-accent-950: #083344;
          }
        }
        
        /* Custom animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 0.5s ease-in-out forwards; }
      
        @keyframes pageFadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-page-fade-in { animation: pageFadeIn 0.4s ease-out forwards; }
        
        @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
        .animate-fade-in-left { animation: fadeInLeft 0.3s ease-out forwards; }

        /* Styles for the rich text editor content */
        .prose-editor ul, .prose-editor ol {
          list-style-position: inside;
          padding-left: 1rem;
        }
        .prose-editor ul {
          list-style-type: disc;
        }
        .prose-editor ol {
          list-style-type: decimal;
        }
        .underline-links a {
            text-decoration: underline;
        }
        [contenteditable][data-placeholder]:empty:before {
            content: attr(data-placeholder);
            color: #6b7280; /* gray-500 */
            pointer-events: none;
            display: block;
        }
        /* Fix for contenteditable placeholder creating unwanted height */
        [contenteditable][data-placeholder]:empty {
            min-height: 0;
        }
        
        /* Accessibility: Disable animations based on user setting */
        .no-animations *,
        .no-animations *::before,
        .no-animations *::after {
          animation-delay: -1ms !important;
          animation-duration: 1ms !important;
          animation-iteration-count: 1 !important;
          background-attachment: initial !important;
          scroll-behavior: auto !important;
          transition-delay: 0s !important;
          transition-duration: 0s !important;
        }
    </style>
  </head>
  <body class="bg-gray-100 dark:bg-gray-900">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/service-worker.js')
            .then(registration => {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(error => {
              console.log('ServiceWorker registration failed: ', error);
            });
        });
      }
    </script>
  </body>
</html>